<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Visualizar Trabalhos</title>
</h:head>
<h:body>
    <h:form id="submissions">
        <p:dataTable value="#{submissionController.submissions}" var="submission" paginator="true" rows="10">
            <p:column headerText="ID">
                <h:outputText value="#{submission.id}" />
            </p:column>
            <p:column headerText="Título">
                <h:outputText value="#{submission.title}" />
            </p:column>
            <p:column headerText="Descrição">
                <h:outputText value="#{submission.description}" />
            </p:column>
            <p:column headerText="Nome do Estudante">
                <h:outputText value="#{submission.studentName}" />
            </p:column>
            <p:column headerText="Data de Submissão">
                <h:outputText value="#{submission.submissionDate}">
                    <f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
                </h:outputText>
            </p:column>
            <p:column headerText="Ações">
                <p:commandButton value="Excluir" action="#{submissionController.delete(submission.id)}" update=":submissions">
                    <f:ajax execute="@this" />
                </p:commandButton>
            </p:column>
        </p:dataTable>
    </h:form>

    <h:messages />
</h:body>
</html>
